(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{6647:function(){},6652:function(e,s,t){Promise.resolve().then(t.bind(t,3150))},954:function(e,s,t){"use strict";t.r(s),t.d(s,{AuthContext:function(){return r},default:function(){return d}});var a=t(7437),n=t(3107),i=t(7907),c=t(2265),l=t(146);let r=(0,c.createContext)({});function d(e){let{children:s}=e,[t,d]=(0,c.useState)(!1),[u,o]=(0,c.useState)(),[h,x]=(0,c.useState)(!1),m=(0,i.useRouter)(),g=l.Z.get("access_token"),f=async()=>{try{let e=await n.Z.get("".concat("http://localhost:5555","/api/auth/checkAuth"),{headers:{Authorization:"Bearer ".concat(g)}});e.data.success?(d(!0),o(e.data.data)):(x(!0),setTimeout(()=>{m.push("/login"),x(!1)},5e3))}catch(e){console.log(e),x(!0),setTimeout(()=>{x(!1),m.push("/login")},5e3)}};return(0,a.jsx)(r.Provider,{value:{Login:t,currentUser:u,CheckAuth:f,Alert:h},children:s})}},3150:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var a=t(7437),n=t(3107),i=t(703),c=t(7907),l=t(3193),r=t(2265);t(480);var d=t(146),u=t(8792),o=()=>{let[e,s]=(0,r.useState)(""),[t,o]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),m=(0,c.useRouter)(),g=async()=>{if(e.length>0&&t.length>0)try{let a=await n.Z.post("".concat("http://localhost:5555","/api/auth/login"),{email:e,password:t});!0==a.data.success?(d.Z.set("access_token",a.data.data.token),x(!0),setTimeout(()=>{m.push("/admin")},3e3)):!1==a.data.success&&(s(""),o(""),x(!1),setTimeout(()=>{x("")},3e3))}catch(e){s(""),o(""),x(!1),setTimeout(()=>{x("")},3e3)}},[f,j]=(0,r.useState)(!1);return(0,a.jsx)("div",{className:"bg-login ",children:(0,a.jsx)("div",{className:"bg-[#000000bb] w-screen min-h-screen flex justify-center items-center",children:(0,a.jsx)("div",{className:" rounded-xl lg:w-[60%] w-[90%] bg-white overflow-hidden",children:(0,a.jsxs)("div",{className:"lg:grid grid-cols-2",children:[(0,a.jsx)("div",{className:"min-h-[75vh] flex items-center justify-center p-5",children:(0,a.jsxs)("div",{className:"w-[80%] grid gap-3",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(i.default,{alt:"",src:l.Z,className:"h-40 object-cover drop-shadow-lg"})}),(0,a.jsx)("div",{className:"text-dark uppercase font-bold text-5xl",children:"Login"})]}),!0===h?(0,a.jsxs)("div",{className:"p-3 bg-green-200 rounded text-green-700 flex justify-between",children:[(0,a.jsx)("div",{className:"",children:"Login Successfully"}),(0,a.jsx)("span",{className:"loading loading-dots loading-sm"})]}):!1===h?(0,a.jsxs)("div",{className:"p-3 bg-red-200 rounded text-red-700 flex justify-between",children:[(0,a.jsx)("div",{className:"",children:"Check email & password"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})})]}):void 0,(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"mb-2",children:"Email"}),(0,a.jsx)("input",{value:e,onChange:e=>s(e.target.value),type:"text",placeholder:"email",className:"input input-bordered w-full"})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"mb-2",children:"Password"}),(0,a.jsx)("input",{value:t,onChange:e=>o(e.target.value),type:f?"text":"password",placeholder:"password",className:"input input-bordered w-full"})]}),(0,a.jsxs)("div",{className:" flex justify-end gap-3 ",children:[(0,a.jsx)("div",{children:"Show Password"}),(0,a.jsx)("input",{type:"checkbox",checked:f,onChange:e=>{j(e.target.checked)},className:"checkbox"})]}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"flex justify-center mt-5",children:(0,a.jsx)("button",{onClick:()=>g(),type:"submit",className:"btn btn-neutral btn-wide",children:" Login"})}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("span",{className:"text-sm",children:["Back to dashboard ",(0,a.jsx)(u.default,{className:"btn btn-sm btn-warning",href:"/",children:"Here"})]})})]})}),(0,a.jsx)("div",{className:"lg:block hidden bg-login"})]})})})})},h=t(954),x=()=>{let e=(0,r.useContext)(h.AuthContext),s=(0,c.useRouter)();return(0,r.useEffect)(()=>{e.CheckAuth(),!0===e.Login&&s.push("/admin")},[e.Login]),null};function m(){return(0,a.jsxs)(h.default,{children:[(0,a.jsx)(x,{}),(0,a.jsx)("main",{className:"",children:(0,a.jsx)(o,{})})]})}},3193:function(e,s){"use strict";s.Z={src:"/_next/static/media/fullWhite.b162bffd.png",height:2e3,width:4e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAYAAACzzX7wAAAARklEQVR42mMgCP51dWX96+k58+/du8h////7/Pv7N/Tfv38uQBwAxIYM/5qbs4D4NFBBBFBBMFBB4L9//zyBOAyI9QjaAAC+DzGcxQ6wcQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4}}},function(e){e.O(0,[218,444,749,792,909,971,69,560],function(){return e(e.s=6652)}),_N_E=e.O()}]);